<story-context id="{bmad_folder}/bmm/workflows/4-implementation/story-context/template" v="1.0">
  <metadata>
    <epicId>1</epicId>
    <storyId>3</storyId>
    <title>Build the Basic Chat Interface UI</title>
    <status>drafted</status>
    <generatedAt>2025-12-02</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <sourceStoryPath>C:\Users\fredr\Documents\KIProject\SG-KI-Krigerne\docs\sprint-artifacts</sourceStoryPath>
  </metadata>

  <story>
    <asA>As a User</asA>
    <iWant>a simple and clean web interface</iWant>
    <soThat>I can easily interact with the chatbot.</soThat>
    <tasks>
- Task 1: Set up basic Vite/React project with Tailwind CSS and shadcn/ui (AC: 1, 2)
    - Subtask 1.1: Ensure Vite/React project is initialized (refer to `architecture.md`).
    - Subtask 1.2: Install and configure Tailwind CSS.
    - Subtask 1.3: Initialize and configure shadcn/ui.
    - Subtask 1.4: Remove default Vite/React boilerplate.
- Task 2: Implement basic chat window layout (AC: 3, 4, 5, 6)
    - Subtask 2.1: Create a `ChatWindow` component in `frontend/src/components/`.
    - Subtask 2.2: Implement a message history area (e.g., `ScrollArea` from shadcn/ui).
    - Subtask 2.3: Implement a text input field (e.g., `Input` from shadcn/ui) and a "Send" button (e.g., `Button` from shadcn/ui).
    - Subtask 2.4: Display a welcome message on initial load.
- Task 3: Implement responsive design (AC: 7, 8)
    - Subtask 3.1: Apply Tailwind CSS utility classes for responsiveness (e.g., `max-w-lg` for desktop, `full-width` for mobile).
    - Subtask 3.2: Test responsiveness on common desktop breakpoints.
    - Subtask 3.3: Test responsiveness on common mobile breakpoints.
- Task 4: Ensure WCAG 2.1 Level AA accessibility (AC: 9, 10, 11)
    - Subtask 4.1: Use semantic HTML elements where appropriate.
    - Subtask 4.2: Ensure sufficient color contrast using `Clear Horizon` theme colors (refer to `ux-design-specification.md`).
    - Subtask 4.3: Implement keyboard navigation for interactive elements (input, button).
    - Subtask 4.4: Add appropriate `aria-labels` or `aria-describedby` for screen reader support.
    - Subtask 4.5: Conduct basic accessibility checks (e.g., Lighthouse, manual keyboard testing).
- Task 5: Write frontend unit/integration tests
    - Subtask 5.1: Set up Vitest for frontend testing. (AC: 1, 2, 3)
    - Subtask 5.2: Write unit tests for `ChatWindow` component rendering (AC: 1, 2, 3, 4, 5, 6).
    - Subtask 5.3: Write integration tests for chat window basic interaction (sending messages) (AC: 5, 6).
    - Subtask 5.4: Test responsiveness on desktop and mobile (AC: 7, 8).
    - Subtask 5.5: Test accessibility for keyboard navigation (AC: 9).
    - Subtask 5.6: Test accessibility for color contrast (AC: 10).
    - Subtask 5.7: Test accessibility for `aria-labels` (AC: 11).
    </tasks>
  </story>

  <acceptanceCriteria>
1.  **Given** the user opens the web app,
2.  **When** the page loads,
3.  **Then** a chat window is displayed.
4.  **And** the chat window contains a message history area, initially displaying a welcome message.
5.  **And** the chat window contains a text input field for user messages.
6.  **And** the chat window contains a "Send" button next to the text input field.
7.  **And** the interface is responsive, rendering correctly on desktop screen sizes (e.g., 1920px width).
8.  **And** the interface is responsive, rendering correctly on mobile screen sizes (e.g., 375px width).
9.  **And** the interface meets Web Content Accessibility Guidelines (WCAG) 2.1 Level AA standards, specifically for keyboard navigation.
10. **And** the interface meets Web Content Accessibility Guidelines (WCAG) 2.1 Level AA standards, specifically for sufficient color contrast.
11. **And** the interface meets Web Content Accessibility Guidelines (WCAG) 2.1 Level AA standards, specifically for appropriate `aria-labels` for screen reader support.
  </acceptanceCriteria>

  <artifacts>
<docs>
      <entry>
        <path>docs/prd.md</path>
        <title>Product Requirements Document</title>
        <section>Functional Requirements</section>
        <snippet>FR2: The system shall provide a conversational interface for user interaction. FR13: The user can interact with the chatbot through a web-based interface. FR14: The web interface shall be responsive and work on both desktop and mobile browsers.</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Architecture</title>
        <section>Project Initialization</section>
        <snippet>Details the commands to set up the Vite + React (TypeScript) frontend, integrated with Tailwind CSS and shadcn/ui.</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Architecture</title>
        <section>Decision Summary</section>
        <snippet>Covers Frontend Framework (Vite + React TS), Language (TypeScript), Styling (Tailwind CSS + shadcn/ui), Build Tooling (Vite/Rollup), Project Structure (Vite default).</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Architecture</title>
        <section>Project Structure</section>
        <snippet>Defines the `himolde-study-friend/frontend/src/` folder for React components, pages, lib, assets, styles.</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Architecture</title>
        <section>Technology Stack Details</section>
        <snippet>Specifies Vite, React, TypeScript, Tailwind CSS, shadcn/ui versions for the frontend.</snippet>
      </entry>
      <entry>
        <path>docs/architecture.md</path>
        <title>Architecture</title>
        <section>Implementation Patterns</section>
        <snippet>Outlines Naming Conventions (PascalCase for React Components, camelCase for variables/functions), and Code Organization (by feature for pages/components).</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Design System Choice</section>
        <snippet>Details the choice of shadcn/ui for a minimal, customizable, accessible chat interface based on Radix UI and Tailwind CSS.</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Core User Experience</section>
        <snippet>Defines the core experience, desired emotional response, principles (Speed, Guidance, Flexibility, Feedback), and inspiration from ChatGPT, Canvas, Himolde.no.</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Visual Foundation</section>
        <snippet>Describes the "Clear Horizon" color system, 'Inter' typography, and 4px spacing/layout foundation.</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Design Direction</section>
        <snippet>Chosen Direction: "Structured Clarity", detailing layout, hierarchy, interaction, and visual style decisions.</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>User Journey Flows</section>
        <snippet>Outlines the "Asking a Course-Related Question" critical user path and mental model, emphasizing minimum steps to value.</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Component Library</section>
        <snippet>Details components from shadcn/ui (Input, Button, ScrollArea, etc.) and custom components needed (Chat Message Bubble, Chat Input Area).</snippet>
      </entry>
      <entry>
        <path>docs/ux-design-specification.md</path>
        <title>UX Design Specification</title>
        <section>Responsive Design &amp; Accessibility</section>
        <snippet>Describes responsive strategies for Desktop, Tablet, Mobile, and Accessibility Strategy targeting WCAG 2.1 Level AA.</snippet>
      </entry>
      <entry>
        <path>docs/epics.md</path>
        <title>Epic Breakdown</title>
        <section>Story 1.3: Build the Basic Chat Interface UI</section>
        <snippet>Detailed user story, acceptance criteria, and technical notes for Story 1.3.</snippet>
      </entry>
    </docs>
<code>
      <entry>
        <path>himolde-study-friend/src/App.tsx</path>
        <kind>component</kind>
        <symbol>App</symbol>
        <lines>all</lines>
        <reason>Main application component where the chat interface will be integrated.</reason>
      </entry>
      <entry>
        <path>himolde-study-friend/src/index.css</path>
        <kind>stylesheet</kind>
        <symbol>N/A</symbol>
        <lines>all</lines>
        <reason>Global styles and Tailwind CSS directives will be configured here.</reason>
      </entry>
      <entry>
        <path>himolde-study-friend/src/App.test.tsx</path>
        <kind>test</kind>
        <symbol>N/A</symbol>
        <lines>all</lines>
        <reason>Placeholder for initial frontend tests. Vitest will be configured here.</reason>
      </entry>
    </code>
    <dependencies>
      <npm>
        <package name="class-variance-authority" version="^0.7.1" />
        <package name="clsx" version="^2.1.1" />
        <package name="lucide-react" version="^0.555.0" />
        <package name="react" version="^19.2.0" />
        <package name="react-dom" version="^19.2.0" />
        <package name="tailwind-merge" version="^3.4.0" />
        <package name="tailwindcss-animate" version="^1.0.7" />
      </npm>
      <npm-dev>
        <package name="@eslint/js" version="^9.39.1" />
        <package name="@tailwindcss/postcss" version="^4.1.17" />
        <package name="@testing-library/jest-dom" version="^6.9.1" />
        <package name="@testing-library/react" version="^16.3.0" />
        <package name="@types/node" version="^24.10.1" />
        <package name="@types/react" version="^19.2.5" />
        <package name="@types/react-dom" version="^19.2.3" />
        <package name="@vitejs/plugin-react" version="^5.1.1" />
        <package name="@vitest/coverage-v8" version="^4.0.14" />
        <package name="autoprefixer" version="^10.4.22" />
        <package name="eslint" version="^9.39.1" />
        <package name="eslint-config-prettier" version="^10.1.8" />
        <package name="eslint-plugin-prettier" version="^5.5.4" />
        <package name="eslint-plugin-react-hooks" version="^7.0.1" />
        <package name="eslint-plugin-react-refresh" version="^0.4.24" />
        <package name="globals" version="^16.5.0" />
        <package name="jsdom" version="^27.2.0" />
        <package name="postcss" version="^8.5.6" />
        <package name="prettier" version="^3.7.3" />
        <package name="tailwindcss" version="^4.1.17" />
        <package name="typescript" version="~5.9.3" />
        <package name="typescript-eslint" version="^8.46.4" />
        <package name="vite" version="^7.2.4" />
        <package name="vitest" version="^4.0.14" />
      </npm-dev>
    </dependencies>
  </artifacts>

  <constraints>
  <entry>
    <type>Frontend Framework</type>
    <description>Vite + React (TypeScript).</description>
  </entry>
  <entry>
    <type>Styling</type>
    <description>Tailwind CSS + shadcn/ui.</description>
  </entry>
  <entry>
    <type>Project Structure</type>
    <description>Adhere to frontend/src organization for components, pages, lib, assets, styles.</description>
  </entry>
  <entry>
    <type>Naming Conventions</type>
    <description>PascalCase for React Components, camelCase for variables/functions.</description>
  </entry>
  <entry>
    <type>Accessibility</type>
    <description>WCAG 2.1 Level AA compliance is critical.</description>
  </entry>
  <entry>
    <type>Responsive Design</type>
    <description>The interface must adapt to desktop and mobile screen sizes.</description>
  </entry>
  <entry>
    <type>UX Patterns</type>
    <description>Streamlined conversational interface, minimal design, focus on information reliability, professional aesthetic.</description>
  </entry>
</constraints>
  <interfaces></interfaces>
  <tests>
    <standards>Vitest for fast, modern frontend testing. ESLint for linting.</standards>
    <locations>
      <entry>himolde-study-friend/src/App.test.tsx</entry>
      <entry>himolde-study-friend/src/components/__tests__/</entry>
      <entry>Co-located with components (e.g., ChatWindow.test.tsx next to ChatWindow.tsx)</entry>
    </locations>
    <ideas>
      <idea ac="1,2,3">Write unit tests for `ChatWindow` component rendering.</idea>
      <idea ac="5,6">Write integration tests for chat window basic interaction (sending messages).</idea>
      <idea ac="7,8">Test responsiveness on desktop and mobile.</idea>
      <idea ac="9">Test accessibility for keyboard navigation.</idea>
      <idea ac="10">Test accessibility for color contrast.</idea>
      <idea ac="11">Test accessibility for `aria-labels`.</idea>
    </ideas>
  </tests>
</story-context>